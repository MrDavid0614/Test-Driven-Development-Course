<h1>Home</h1>

<form action="{% url 'home' %}" method="POST">

    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" name='submit' id="hash_text" value="Hash">

</form>


<h2 id="quickhash"></h2>


<script>

    function hashTextInRealTime(event) {

        fetch('/quickhash', {
            headers: {
                'text': document.querySelector('#id_text').value
            },
            method: 'GET',
        })
        .then(res => res.json())
        .then(data => {

            document.querySelector('#quickhash').textContent = data.hash;

        })

    }

    document.querySelector('#id_text').addEventListener('keyup', hashTextInRealTime)
    
</script>